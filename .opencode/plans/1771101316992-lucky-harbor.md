# Plan: Control page tabs + risk connections

## Goal
- Add tabs on control detail page: Overview (current content) + Risks (risk list filtered by controlId)
- Default tab: Overview

## Key files
- `packages/web/src/routes/org/$slug/control/$id.tsx`
- `packages/web/src/components/ui/tabs.tsx`
- `packages/web/src/features/risk/list-risk.tsx`

## Steps
1. Update control detail route to use Tabs
   - Import Tabs components from `@/components/ui/tabs`
   - Wrap main column with `<Tabs defaultValue="overview">`
   - Add `<TabsList>` with triggers: Overview, Risks
2. Move existing main content into Overview tab
   - Put `ControlMainContent` + CreateAssessmentTemplate area into `<TabsContent value="overview">`
3. Add Risks tab content
   - Import `ListRisk` from `@/features/risk/list-risk`
   - Render `<ListRisk slug={slug} filter={{ controlId: id as never }} />` in `<TabsContent value="risks">`
4. Keep sidebar and header slots unchanged
   - Do not alter metadata panel or autosave logic

## Verification
- Load control detail page; Overview tab shows current content
- Switch to Risks tab; see risk list filtered to controlId
- Run `bun scan:fix` and fix findings

## Unresolved questions
- None
